{"version":3,"sources":["assets/images/douyu-icon.png","Components/Table/RankChangeIndicator.tsx","constants.ts","Components/Table/PlayerName.tsx","Components/Table/TableRow/RankHistory.tsx","Components/Table/TableRow/TableRow.tsx","Components/Table/Table.tsx","Components/LastUpdated.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","RankChangeIndicator","_ref","icon","change","rankClassName","classnames","rank","rank-up","rank-down","react_default","a","createElement","className","KNOWN_TWITCH_STREAMERS","twobiers","twobiers#4033","cris","szychu","p4wnyhof",".tv/mattjestic_gaming |youtube g","stalk","leon","knowme",".tv/quasar273 #2",".tv/quasar273 #3","/quasar273","hoej","shtan","bebe872","kondo, marie","gaara","frostieuk","swim","DOUYO_REGEXP","TwitchName","playerName","link","startIndex","indexOf","channel","substr","concat","href","target","rel","style","color","marginLeft","DouyuName","_ref2","matches","match","length","PlayerName_BasicName","channelID","pop","src","douyuIcon","alt","height","BasicName","_ref4","PlayerName","_ref3","twitchLink","toLowerCase","PlayerName_TwitchName","includes","getStreamtype","PlayerName_DouyuName","RankHistory","props","pName","leaderboardData","data","Object","values","map","id","rankEntry","ranks","find","date","reverse","console","log","es6","width","aspect","margin","top","right","left","bottom","dataKey","stroke","tickFormatter","tickData","Date","toLocaleTimeString","reversed","vertical","type","dot","strokeWidth","isAnimationActive","yAxisId","TableRow","rankChange","_useState","useState","_useState2","slicedToArray","showHistory","setShowHistory","Fragment","display","Table_RankChangeIndicator","Table_PlayerName","float","cursor","onClick","TableRow_RankHistory","Table","players","textAlign","player","index","Table_TableRow_TableRow","assign","key","LastUpdated","justifyContent","toLocaleString","leaderboard","lastPlayerEntry","entry","App","setRanks","_useState3","_useState4","setLeaderboard","useEffect","fetch","then","res","json","lastUpdated","objectSpread","playerHistory","forEach","Array","isArray","push","buildPlayerHistory","epoch","Components_LastUpdated","Components_Table_Table","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.50750d28.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react'\nimport classnames from 'classnames'\nimport { RankChange } from '../../App'\n\ninterface Props {\n  change: RankChange\n}\n\nconst RankChangeIndicator = ({ change }: Props) => {\n  const rankClassName = classnames({\n    rank: true,\n    'rank-up': change !== 'new' && change > 0,\n    'rank-down': change !== 'new' && change < 0\n  })\n\n  let icon\n  if (change === 'new') {\n    icon = <i className='fa fa-star color-gold' />\n  } else if (change < 0 ) {\n    icon = <i className='fa fa-caret-down color-red' />\n  } else if (change > 0) {\n    icon = <i className='fa fa-caret-up color-green' />\n  }\n\n  return (\n    <span className={rankClassName}>\n      <span className='rank-change-icon'>\n        {icon}\n      </span>\n      <span className='rank-change-value'>\n        {change !== 'new' && change !== 0 && change}\n      </span>\n    </span>\n  )\n}\n\nexport default RankChangeIndicator\n","interface KnownStreamers {\n  [id: string]: string\n}\n\nexport const KNOWN_TWITCH_STREAMERS: KnownStreamers = {\n  'twobiers': 'https://www.twitch.tv/twobiers/',\n  'twobiers#4033': 'https://www.twitch.tv/twobiers/',\n  'cris': 'https://www.twitch.tv/crisheroes',\n  'szychu': 'https://www.twitch.tv/szychu',\n  'p4wnyhof': 'https://www.twitch.tv/P4wnyhof',\n  '.tv/mattjestic_gaming |youtube g': 'https://www.twitch.tv/mattjestic_gaming',\n  'stalk': 'https://www.twitch.tv/stlk',\n  'leon': 'https://www.twitch.tv/leonblack',\n  'knowme': 'https://www.twitch.tv/YouBetterKnowMe',\n  '.tv/quasar273 #2': 'https://www.twitch.tv/quasar273',\n  '.tv/quasar273 #3': 'https://www.twitch.tv/quasar273',\n  '/quasar273': 'https://www.twitch.tv/quasar273',\n  'hoej': 'https://www.twitch.tv/hoej_hs',\n  'shtan': 'https://www.twitch.tv/shtan_udachi',\n  'bebe872': 'https://www.twitch.tv/bebe872',\n  'kondo, marie': 'https://www.twitch.tv/strifecro',\n  'gaara': 'https://www.twitch.tv/gaara',\n  'frostieuk': 'https://www.twitch.tv/FrostieUK',\n  'swim': 'https://www.twitch.tv/swimstrim',\n}\n","import React from 'react'\nimport douyuIcon from '../../assets/images/douyu-icon.png'\nimport { KNOWN_TWITCH_STREAMERS } from '../../constants'\n\ninterface Props {\n  playerName: string\n}\n\nconst TWITCH = 'tv/'\nconst DOYU = '斗鱼'\n// const HUYA = '虎牙'\n\nconst DOUYO_REGEXP = /(\\d[\\d]+)/g\n\ntype StreamTypes = 'twitch' | 'douyu' | 'huya' | null\n\nconst getStreamtype = (playerName: string): StreamTypes => {\n  if (playerName.includes(TWITCH)) {\n    return 'twitch'\n  }\n  if (playerName.includes(DOYU) && playerName.match(DOUYO_REGEXP)) {\n    return 'douyu'\n  }\n  // if (playerName.includes(HUYA)) {\n  //   return 'huya'\n  // }\n  return null\n}\n\ninterface StreamerProps {\n  playerName: string\n  link?: string\n}\n\nconst TwitchName = ({ playerName, link }: StreamerProps) => {\n  if (typeof link === 'undefined') {\n    const startIndex = playerName.indexOf(TWITCH) + 3\n    const channel = playerName.substr(startIndex)\n    link = `https://twitch.tv/${channel}`\n  }\n  return (\n    <a\n      href={link}\n      target='_blank'\n      rel='noopener noreferrer'\n      style={{ color: 'white' }}\n    >\n      {playerName}\n      <span style={{ marginLeft: 10 }}>\n        <i className='fab fa-twitch' />\n      </span>\n    </a>\n  )\n}\n\nconst DouyuName = ({ playerName }: Props) => {\n  const matches = playerName.match(DOUYO_REGEXP)\n  if (!matches || matches.length === 0) {\n    return <BasicName playerName={playerName} />\n  }\n  let channelID = matches.pop()\n  const link = `https://www.douyu.com/${channelID}`\n  return (\n    <a\n      href={link}\n      target='_blank'\n      rel='noopener noreferrer'\n      style={{ color: 'white' }}\n    >\n      {playerName}\n      <img src={douyuIcon} alt={`douyu ${playerName}`} style={{ marginLeft: 8, height: 19}} />\n    </a>\n  )\n}\n\nconst PlayerName = ({ playerName }: Props) => {\n  const twitchLink = KNOWN_TWITCH_STREAMERS[playerName.toLowerCase()]\n  if (typeof twitchLink !== 'undefined') {\n    return <TwitchName playerName={playerName} link={twitchLink} />\n  }\n\n  const streamType = getStreamtype(playerName)\n  switch (streamType) {\n    case 'douyu':\n      return <DouyuName playerName={playerName} />\n    case 'twitch':\n      return <TwitchName playerName={playerName} />\n    case null:\n    default:\n      return <BasicName playerName={playerName} />\n  }\n}\n\nconst BasicName = ({ playerName }: Props) => {\n  return <span>{playerName}</span>\n}\n\nexport default PlayerName\n","import React from 'react'\nimport {\n  LineChart, Line, XAxis, YAxis, ResponsiveContainer, CartesianGrid, Label,\n} from 'recharts'\nimport { LeaderboardData } from '../../../App'\n\ninterface Props {\n  playerName: string\n  leaderboardData: LeaderboardData\n}\n\nexport interface RankData {\n  date: number,\n  rank: number | null\n}\n\nconst buildRankHistory = (pName: string, leaderboardData: LeaderboardData): RankData[] => {\n  return Object.values(leaderboardData).map(\n    ({id, ranks}): RankData => {\n      const rankEntry = ranks.find(\n        ({ rank, playerName }) => playerName === pName\n      )\n      return {\n        date: id,\n        rank: rankEntry ? rankEntry.rank : null\n      }\n    }\n  ).reverse()\n}\n\nconst RankHistory = (props: Props) => {\n  const data: RankData[] = buildRankHistory(props.playerName, props.leaderboardData)\n  console.log(data)\n  return (\n    <ResponsiveContainer width={'100%'} aspect={2/1}>\n      <LineChart\n        data={data}\n        margin={{ top: 20, right: 20, left: 10, bottom: 20 }}\n      >\n        <XAxis\n          dataKey=\"date\"\n          stroke='white'\n          tickFormatter={(tickData) => {\n            const date = new Date(tickData)\n            return date.toLocaleTimeString().substr(0, 5)\n          }}\n        />\n        <YAxis stroke='white' reversed={true} />\n        <CartesianGrid stroke=\"#666666\" vertical={false} />\n        <Line\n          type=\"step\"\n          dot={false}\n          dataKey=\"rank\"\n          stroke=\"white\"\n          strokeWidth={3}\n          isAnimationActive={false}\n          yAxisId={0}\n        />\n      </LineChart>\n    </ResponsiveContainer>\n  )\n}\n\nexport default RankHistory\n","import { LeaderboardData, PlayerData } from '../../../App'\nimport RankChangeIndicator from '../RankChangeIndicator'\nimport PlayerName from '../PlayerName'\nimport React, { useState } from 'react'\nimport RankHistory from './RankHistory'\n\ninterface TableRowProps extends PlayerData {\n  leaderboardData: LeaderboardData\n}\n\nconst TableRow = ({ rank, rankChange, playerName, leaderboardData }: TableRowProps) => {\n  const [showHistory, setShowHistory] = useState(false)\n  const toggleHistory = () => {\n    setShowHistory(!showHistory)\n  }\n  return (\n    <>\n      <div className='tr' style={{ display: 'flex' }}>\n        <span className='player-rank'>\n          <RankChangeIndicator change={rankChange} />\n          <span style={{ marginLeft: 5 }}>\n            {rank}\n          </span>\n        </span>\n        <span className='player-name' style={{ width: '100%' }}>\n          <PlayerName playerName={playerName} />\n          <span style={{ float: 'right' }}>\n            <button\n              className='button-history'\n              style={{ cursor: 'pointer' }}\n              onClick={toggleHistory}\n            >\n              {\n                showHistory\n                  ? <i className='fas fa-chart-line fa-rotate-180' />\n                  : <i className='fas fa-chart-line' />\n              }\n            </button>\n          </span>\n        </span>\n      </div>\n      {\n        showHistory && <RankHistory playerName={playerName} leaderboardData={leaderboardData} />\n      }\n    </>\n  )\n}\n\nexport default TableRow\n","import React from 'react'\nimport { LeaderboardData, PlayerData, PlayerHistory } from '../../App'\nimport TableRow from './TableRow/TableRow'\n\ninterface Props {\n  players: PlayerData[]\n  playerHistory: PlayerHistory\n  leaderboardData: LeaderboardData\n}\n\nconst Table = (props: Props) => {\n  const { players } = props\n  if (players.length === 0) {\n    return <h1 style={{textAlign: 'center'}}>Loading Data</h1>\n  }\n\n  return (\n    <>\n      <div className='table'>\n        <div className='thead'>\n          <div className='tr'>\n            <div className='th rank-header'>Rank</div>\n            <div className='th name-header'>Name</div>\n            <div className='th name-header' style={{width: 80}}>History</div>\n          </div>\n        </div>\n        <div className='tbody'>\n          {\n            players.map(\n              (player, index: number) => {\n                // const rankHistory = props.playerHistory[player.playerName]\n                return <TableRow key={index} {...player} leaderboardData={props.leaderboardData} />\n              }\n            )\n          }\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Table\n","import React from 'react'\n\ninterface Props {\n  date: Date\n}\n\nconst LastUpdated = ({ date }: Props) => {\n  return (\n    <div className='last-updated' style={{\n      display: 'flex',\n      justifyContent: 'space-between'\n    }}>\n      <span>\n        Last updated: {date.toLocaleString()}\n      </span>\n      <span style={{ color: '#999999' }}>\n        <small><i>Updates every hour</i></small>\n      </span>\n    </div>\n  )\n}\n\nexport default LastUpdated\n","import React, { useEffect, useState } from 'react'\nimport Table from './Components/Table/Table'\nimport LastUpdated from './Components/LastUpdated'\n\ntype PlayerName = string\n\ninterface Rank {\n  rank: number,\n  playerName: PlayerName\n}\n\ntype Ranks = Rank[]\n\ninterface LeaderboardEntry {\n  id: number,\n  ranks: Ranks\n}\n\nexport type LeaderboardData = LeaderboardEntry[]\n\nexport type RankChange = number | 'new'\n\nexport interface PlayerData extends Rank {\n  rankChange: RankChange\n}\n\nconst rankChange = (player: Rank, leaderboard: LeaderboardData): RankChange => {\n  if (leaderboard.length <= 1) {\n    return 0\n  }\n  const lastEntry: LeaderboardEntry = leaderboard[1]\n  const lastPlayerEntry: Rank | undefined = lastEntry.ranks.find(\n    (entry: Rank) => player.playerName === entry.playerName\n  )\n  if (typeof lastPlayerEntry === 'undefined') {\n    return 'new'\n  }\n  return lastPlayerEntry.rank - player.rank\n}\n\nexport interface PlayerHistory {\n  [id: string]: number[]\n}\n\nconst buildPlayerHistory = (leaderboard: LeaderboardData): PlayerHistory => {\n  const playerHistory: PlayerHistory = {}\n  leaderboard.forEach(entry => {\n    entry.ranks.forEach(rank => {\n      if (!Array.isArray(playerHistory[rank.playerName])) {\n        playerHistory[rank.playerName] = []\n      }\n      playerHistory[rank.playerName].push(rank.rank)\n    })\n  })\n  return playerHistory\n}\n\nconst App: React.FC = () => {\n  const [ranks, setRanks] = useState<Ranks>([])\n  const [leaderboard, setLeaderboard] = useState<LeaderboardData>([])\n\n  useEffect(() => {\n    fetch('/api/leaderboard?_sort=id&_order=desc&_limit=48')\n      .then(res => res.json())\n      .then((data: LeaderboardData) => {\n        if (data.length === 0) {\n          return\n        }\n        setLeaderboard(data)\n        setRanks(data[0].ranks)\n      })\n  }, [])\n\n  const players: PlayerData[] = ranks.map(rank => {\n    return {\n      ...rank,\n      rankChange: rankChange(rank, leaderboard)\n    }\n  })\n\n  const playerHistory = buildPlayerHistory(leaderboard)\n  let lastUpdated\n  if (leaderboard.length === 0) {\n    lastUpdated = new Date()\n  } else {\n    const epoch = leaderboard[0].id\n    lastUpdated = new Date(epoch)\n  }\n\n  return (\n    <div className='site-wrapper'>\n      <div className='header'>\n        <div className='main'>\n          LORDS OF WHITE SPIRE\n        </div>\n        <div className='subtitle'>\n          Dota Underlords Leaderboard History\n        </div>\n      </div>\n      <div style={{ width: '100%' }}>\n        <LastUpdated date={lastUpdated} />\n      </div>\n      <Table players={players} playerHistory={playerHistory} leaderboardData={leaderboard} />\n      <div style={{ textAlign: 'center' }}>\n        <small>\n          Data is based on <a\n          style={{\n            color: 'white'\n          }}\n          href='https://underlords.com/leaderboard'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <strong>underlords.com/leaderboard</strong>\n        </a>.\n          Data is not accurate for duplicate playernames\n        </small>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport '@fortawesome/fontawesome-free/css/all.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}