(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,a){e.exports="data:image/png;base64,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"},162:function(e,a,t){e.exports=t(349)},167:function(e,a,t){},349:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),l=t(48),c=t.n(l),s=(t(167),t(136)),m=t(34),o=t(4),i=t.n(o),d=function(e){var a,t=e.change,r=i()({rank:!0,"rank-up":"new"!==t&&t>0,"rank-down":"new"!==t&&t<0});return"new"===t?a=n.a.createElement("i",{className:"fa fa-star color-gold"}):t<0?a=n.a.createElement("i",{className:"fa fa-caret-down color-red"}):t>0&&(a=n.a.createElement("i",{className:"fa fa-caret-up color-green"})),n.a.createElement("span",{className:r},n.a.createElement("span",{className:"rank-change-icon"},a),n.a.createElement("span",{className:"rank-change-value"},"new"!==t&&0!==t&&t))},u=t(126),p=t.n(u),A=/(\d[\d]+)/g,f=function(e){var a=e.playerName,t=a.indexOf("tv/")+3,r=a.substr(t),l="https://twitch.tv/".concat(r);return n.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",style:{color:"white"}},a,n.a.createElement("span",{style:{marginLeft:10}},n.a.createElement("i",{className:"fab fa-twitch"})))},h=function(e){var a=e.playerName,t=a.match(A);if(!t||0===t.length)return n.a.createElement(E,{playerName:a});var r=t.pop(),l="https://www.douyu.com/".concat(r);return n.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",style:{color:"white"}},a,n.a.createElement("img",{src:p.a,alt:"douyu ".concat(a),style:{marginLeft:8,height:19}}))},E=function(e){var a=e.playerName;return n.a.createElement("span",null,a)},y=function(e){var a=e.playerName;switch(function(e){return e.includes("tv/")?"twitch":e.includes("\u6597\u9c7c")&&e.match(A)?"douyu":null}(a)){case"douyu":return n.a.createElement(h,{playerName:a});case"twitch":return n.a.createElement(f,{playerName:a});case null:default:return n.a.createElement(E,{playerName:a})}},w=t(18),k=function(e){var a,t,r=(a=e.playerName,t=e.leaderboardData,Object.values(t).map(function(e){var t=e.id,r=e.ranks.find(function(e){return e.rank,e.playerName===a});return{date:t,rank:r?r.rank:null}}).reverse());return console.log(r),n.a.createElement(w.d,{width:"100%",aspect:2},n.a.createElement(w.c,{data:r,margin:{top:20,right:20,left:10,bottom:20}},n.a.createElement(w.e,{dataKey:"date",stroke:"white",tickFormatter:function(e){return new Date(e).toLocaleTimeString().substr(0,5)}}),n.a.createElement(w.f,{stroke:"white"}),n.a.createElement(w.a,{stroke:"#666666",vertical:!1}),n.a.createElement(w.b,{type:"step",dot:!1,dataKey:"rank",stroke:"white",strokeWidth:3,isAnimationActive:!1,yAxisId:0})))},g=function(e){var a=e.rank,t=e.rankChange,l=e.playerName,c=e.leaderboardData,s=Object(r.useState)(!1),o=Object(m.a)(s,2),i=o[0],u=o[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"tr",style:{display:"flex"}},n.a.createElement("span",{className:"player-rank"},n.a.createElement(d,{change:t}),n.a.createElement("span",{style:{marginLeft:5}},a)),n.a.createElement("span",{className:"player-name",style:{width:"100%"}},n.a.createElement(y,{playerName:l}),n.a.createElement("span",{style:{float:"right"}},n.a.createElement("button",{className:"button-history",style:{cursor:"pointer"},onClick:function(){u(!i)}},i?n.a.createElement("i",{className:"fas fa-chart-line fa-rotate-180"}):n.a.createElement("i",{className:"fas fa-chart-line"}))))),i&&n.a.createElement(k,{playerName:l,leaderboardData:c}))},v=function(e){var a=e.players;return 0===a.length?n.a.createElement("h1",{style:{textAlign:"center"}},"Loading Data"):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"table"},n.a.createElement("div",{className:"thead"},n.a.createElement("div",{className:"tr"},n.a.createElement("div",{className:"th rank-header"},"Rank"),n.a.createElement("div",{className:"th name-header"},"Name"),n.a.createElement("div",{className:"th name-header",style:{width:80}},"History"))),n.a.createElement("div",{className:"tbody"},a.map(function(a,t){return n.a.createElement(g,Object.assign({key:t},a,{leaderboardData:e.leaderboardData}))}))))},N=function(e){var a=e.date;return n.a.createElement("div",{className:"last-updated",style:{display:"flex",justifyContent:"space-between"}},n.a.createElement("span",null,"Last updated: ",a.toLocaleString()),n.a.createElement("span",{style:{color:"#999999"}},n.a.createElement("small",null,n.a.createElement("i",null,"Updates every hour"))))},B=function(e,a){if(a.length<=1)return 0;var t=a[1].ranks.find(function(a){return e.playerName===a.playerName});return"undefined"===typeof t?"new":t.rank-e.rank},j=function(){var e=Object(r.useState)([]),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),i=o[0],d=o[1];Object(r.useEffect)(function(){fetch("/api/leaderboard?_sort=id&_order=desc&_limit=48").then(function(e){return e.json()}).then(function(e){0!==e.length&&(d(e),l(e[0].ranks))})},[]);var u,p=t.map(function(e){return Object(s.a)({},e,{rankChange:B(e,i)})}),A=function(e){var a={};return e.forEach(function(e){e.ranks.forEach(function(e){Array.isArray(a[e.playerName])||(a[e.playerName]=[]),a[e.playerName].push(e.rank)})}),a}(i);if(0===i.length)u=new Date;else{var f=i[0].id;u=new Date(f)}return n.a.createElement("div",{className:"site-wrapper"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"main"},"LORDS OF WHITE SPIRE"),n.a.createElement("div",{className:"subtitle"},"Dota Underlords Leaderboard History")),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(N,{date:u})),n.a.createElement(v,{players:p,playerHistory:A,leaderboardData:i}),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("small",null,"Data is based on ",n.a.createElement("a",{style:{color:"white"},href:"https://underlords.com/leaderboard",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("strong",null,"underlords.com/leaderboard")),". Data is not accurate for duplicate playernames")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(348);c.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[162,1,2]]]);
//# sourceMappingURL=main.2430bb0f.chunk.js.map